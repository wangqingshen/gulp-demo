{"version":3,"sources":["aui/aui-slide.js"],"names":["window","extend","a","b","key","hasOwnProperty","auiSlide","options","this","_init","firstTouchX","firstTouchY","touchXDelta","handleTranslateVal","touchStartTime","offsetX","offsetY","isScrolling","CLASS_SLIDER_NODE","CLASS_SLIDE_PAGE_WRAP","CLASS_SLIDE_PAGE","CLASS_SLIDE_PAGE_ACTIVE","CLASS_SLIDE_PAGE_DOT","CLASS_SLIDE_PAGE_LINE","__SLIDER_NODE","__SLIDE_PAGE_WRAP","__SLIDE_PAGE","__SLIDE_PAGE_ACTIVE","prototype","container","width","height","speed","autoPlay","pageShow","pageStyle","dotPosition","friction","loop","currentPage","PageCount","index","continuous","style","position","element","children","slideWrap","slideNodeList","querySelectorAll","slideWrapWidth","offsetWidth","slideNodeListLength","length","appendChild","cloneNode","i","webkitTransform","transform","createPagination","setPageDotPosition","addEventListener","touchStart","bind","touchMove","touchEnd","self","pageDotPosition","querySelector","textAlign","setInterval","slideTo","getCircle","setPaginationActive","pageList","classList","remove","add","pageWrap","innerHTML","pageShowHtml","pageCount","event","Date","parseInt","changedTouches","pageX","pageY","undefined","touchMoveObj","touchX","direction","getDirection","Math","abs","preventDefault","setTranslate","touchEndObj","touchEndX","touchEndY","moveDirection","x","y","boundary","duration","isValid","Number","dist","webkitTransitionDuration","transitionDuration"],"mappings":"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","file":"aui-slide.js","sourcesContent":["/**\n * aui-slide.js 轮播组件\n * @author 流浪男\n * http://www.auicss.com\n * @todo more things to abstract, e.g. Loading css etc.\n * Licensed under the MIT license.\n * http://www.opensource.org/licenses/mit-license.php\n */\n(function(window) {\n\t\"use strict\";\n\n\tvar translateVal,\n\t\tfirstTouchX,\n\t\tfirstTouchY,\n\t\ttouchXDelta,\n\t\thandleTranslateVal;\n\tvar touchStartTime; //开始触摸事件\n\tvar offsetX,\n\t\toffsetY,\n\t\tisScrolling;\n\t// CLASS 组装\n\tvar\tCLASS_SLIDER_NODE = \"aui-slide-node\",\n\t\tCLASS_SLIDE_PAGE_WRAP = \"aui-slide-page-wrap\",\n\t\tCLASS_SLIDE_PAGE = \"aui-slide-page\",\n\t\tCLASS_SLIDE_PAGE_ACTIVE = \"aui-slide-page-active\",\n\t\tCLASS_SLIDE_PAGE_DOT = \"aui-slide-page-dot\",\n\t\tCLASS_SLIDE_PAGE_LINE = \"aui-slide-page-line\";\n\n\tvar __SLIDER_NODE = \".\"+CLASS_SLIDER_NODE,\n\t\t__SLIDE_PAGE_WRAP = \".\"+CLASS_SLIDE_PAGE_WRAP,\n\t\t__SLIDE_PAGE = \".\"+CLASS_SLIDE_PAGE,\n\t\t__SLIDE_PAGE_ACTIVE = \".\"+CLASS_SLIDE_PAGE_ACTIVE;\n\n\tauiSlide.prototype.options = {\n\t\tcontainer:'',\n\t\twidth:'auto',\n\t\theight:'auto',\n\t\tspeed: 300, //滑动速速\n\t\tautoPlay: 0, //自动播放\n\t\tpageShow: true, //是否显示分页器\n\t\tpageStyle: 'dot',\n\t\tdotPosition: 'center',\n\t\tfriction:1, //阻力\n\t\tloop:true,\n\t\tcurrentPage:false,\n\t\tPageCount:false\n\t};\n\tauiSlide.prototype._init = function(options) {\n\t\textend(this.options, options);\n\t\tif(!this.options.container){\n\t\t\treturn;\n\t\t}\n\t\tthis.index = 0; //索引值\n\t\tthis.continuous = true;//用于判断长度为2时的特殊处理\n\t\tthis.container = this.options.container;\n\t\t// console.log(this.options.loop);\n\t\tthis.loop = this.options.loop;\n\t\tthis.speed = this.options.speed;\n\t\tthis.container.style.position = \"relative\";\n\t\tthis.container.style.width = this.options.width+\"px\";\n\t\tthis.container.style.height = this.options.height+\"px\";\n\n\t\tvar element = this.container.children[0];\n\t\tthis.slideWrap = element;\n\t\tthis.slideNodeList = this.slideWrap.querySelectorAll(__SLIDER_NODE);\n\t\tif(!element || !this.slideNodeList){\n\t\t\treturn;\n\t\t}\n\t\t// this.options.pageCount(this.slideNodeList.length);\n\t\tthis.slideWrapWidth = this.slideWrap.offsetWidth;\n\t\tthis.slideNodeListLength = this.slideNodeList.length;\n\n\t\tif (this.slideNodeListLength == 2) { //当长度为2时作特殊处理\n\t\t\telement.appendChild(this.slideWrap.children[0].cloneNode(true));\n\t\t\telement.appendChild(this.slideWrap.children[1].cloneNode(true));\n\t\t\tthis.slideWrap = element;\n\t\t\tthis.slideNodeList = this.slideWrap.querySelectorAll(__SLIDER_NODE);\n\t    \tthis.slideNodeListLength = this.slideNodeList.length;\n\t    \tthis.continuous = false;\n\t    }\n\t\tfor (var i = 0; i < this.slideNodeListLength; i++) {\n\t\t\tthis.slideNodeList[i] && (this.slideNodeList[i].style.webkitTransform = this.slideNodeList[i].style.transform = \"translate3d(\"+(this.slideWrapWidth*i)+\"px,0,0)\");\n\t\t}\n\n\t\tif(this.slideNodeListLength > 1) {\n\t\t\tif(this.options.pageShow){\n\t\t\t\tthis.createPagination(0);\n\t\t\t\tthis.setPageDotPosition();\n\t\t\t}\n\t\t\tif(this.options.autoPlay > 500 && this.loop){\n\t\t\t\tthis.autoPlay(0);\n\t\t\t}\n\t\t\tthis.slideWrap.addEventListener('touchstart', this.touchStart.bind(this), false);\n\t\t\tthis.slideWrap.addEventListener('touchmove', this.touchMove.bind(this), false);\n\t\t\tthis.slideWrap.addEventListener('touchend', this.touchEnd.bind(this), false);\n\t\t}\n\t};\n\t// 当分页器为圆点时位置设置\n\tauiSlide.prototype.setPageDotPosition = function(){\n\t\tvar self = this;\n\t\tvar pageDotPosition = self.options.dotPosition;\n\t\tthis.container.querySelector(__SLIDE_PAGE_WRAP).style.textAlign = pageDotPosition;\n\t};\n\t// 自动播放\n\tauiSlide.prototype.autoPlay = function (index) {\n\t\tvar self = this;\n\t\tsetInterval(function(){\n\t\t\tself.slideTo(self.getCircle(self.index-1), -self.slideWrapWidth, 0);\n\t        self.slideTo(self.getCircle(self.index+2), self.slideWrapWidth, 0);\n\t        self.slideTo(self.index, -self.slideWrapWidth, self.options.speed);\n\t        self.slideTo(self.getCircle(self.index+1), 0, self.options.speed);\n\t        self.index = self.getCircle(self.index+1);\n\t        self.setPaginationActive(self.index);\n\t\t}, self.options.autoPlay)\n\t};\n\t// 设置当前分页\n\tauiSlide.prototype.setPaginationActive = function(index){\n\t\tvar self = this;\n\t\tif(self.options.currentPage){\n\t\t\tself.options.currentPage(index);\n\t\t}\n\t\tif(!this.container.querySelector(__SLIDE_PAGE_WRAP)){\n\t\t\treturn;\n\t\t}\n\t\tvar pageList = this.container.querySelectorAll(__SLIDE_PAGE);\n\t\tif(this.container.querySelector(__SLIDE_PAGE+__SLIDE_PAGE_ACTIVE)){\n\t\t\tthis.container.querySelector(__SLIDE_PAGE+__SLIDE_PAGE_ACTIVE).classList.remove(CLASS_SLIDE_PAGE_ACTIVE);\n\t\t}\n\t\tif(!this.continuous){\n\t\t\tif(this.index == 3){\n\t\t\t\tpageList[1].classList.add(CLASS_SLIDE_PAGE_ACTIVE);\n\t\t\t}else if(this.index==2){\n\t\t\t\tpageList[0].classList.add(CLASS_SLIDE_PAGE_ACTIVE);\n\t\t\t}else{\n\t\t\t\tpageList[this.index].classList.add(CLASS_SLIDE_PAGE_ACTIVE);\n\t\t\t}\n\t\t}else{\n\t\t\tpageList[this.index].classList.add(CLASS_SLIDE_PAGE_ACTIVE);\n\t\t}\n\n\t};\n\t// 创建分页器\n\tauiSlide.prototype.createPagination = function(index){\n\t\tvar self = this;\n\t\tvar pageWrap = this.container.querySelector(__SLIDE_PAGE_WRAP);\n\t\tif(!pageWrap){\n\t\t\treturn;\n\t\t}\n\t\tpageWrap.innerHTML = '';\n\t\tvar pageShowHtml = '';\n\t\tswitch (self.options.pageStyle) {\n\t\t\tcase \"dot\":// 原点\n\t\t\t\t\t\tif (!this.continuous) {\n\t\t\t\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\t\t\t\tpageShowHtml += '<span class=\"'+CLASS_SLIDE_PAGE+' '+CLASS_SLIDE_PAGE_DOT+'\"></span>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tfor (var i = 0; i < this.slideNodeListLength; i++) {\n\t\t\t\t\t\t\t\tpageShowHtml += '<span class=\"'+CLASS_SLIDE_PAGE+' '+CLASS_SLIDE_PAGE_DOT+'\"></span>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpageWrap.innerHTML = pageShowHtml;\n\t\t\t\t\t\tself.setPaginationActive(0);\n\t\t\t\tbreak;\n\t\t\tcase \"line\":// 线条\n\t\t\t\t\t\tif (!this.continuous) {\n\t\t\t\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\t\t\t\tpageShowHtml += '<span class=\"'+CLASS_SLIDE_PAGE+' '+CLASS_SLIDE_PAGE_LINE+'\" style=\"width:50%\"></span>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tfor (var i = 0; i < this.slideNodeListLength; i++) {\n\t\t\t\t\t\t\t\tpageShowHtml += '<span class=\"'+CLASS_SLIDE_PAGE+' '+CLASS_SLIDE_PAGE_LINE+'\" style=\"width:'+(100/this.slideNodeListLength)+'%\"></span>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpageWrap.innerHTML = pageShowHtml;\n\t\t\t\t\t\tself.setPaginationActive(0);\n\t\t\t\tbreak;\n\t\t}\n\t};\n\t// 总页数\n\tauiSlide.prototype.pageCount = function() {\n\t\tvar self = this;\n\t\treturn self.slideNodeList.length;\n\t};\n\tauiSlide.prototype.touchStart = function(event) {\n\t\ttouchStartTime = new Date() * 1;\n\t\tfirstTouchX = parseInt(event.changedTouches[0].pageX);\n\t\tfirstTouchY = parseInt(event.changedTouches[0].pageY);\n\t\tisScrolling = undefined;\n\t};\n\tauiSlide.prototype.touchMove = function(event) {\n\t\tvar touchMoveObj = event.changedTouches[0],\n\t\t\t\ttouchX = parseInt(touchMoveObj.pageX);\n\t\t\ttouchXDelta = touchX - firstTouchX;\n\t\t\thandleTranslateVal = touchXDelta/this.options.friction;\n\t\t//  滑动位移\n\t\toffsetX = parseInt(touchMoveObj.pageX) - firstTouchX;\n        offsetY = parseInt(touchMoveObj.pageY) - firstTouchY;\n        var direction = this.getDirection(offsetX,offsetY);\n        if ( typeof isScrolling == 'undefined') {\n\t\t\tisScrolling = !!( isScrolling || Math.abs(offsetX) < Math.abs(offsetY) );\n\t\t}\n\t\tif(!isScrolling){\n\t\t\tevent.preventDefault();\n\t\t\tif(!this.loop){ //不循环\n\t\t\t\tif(!this.continuous && this.index==1 && direction=='left'){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(!this.continuous && this.index==0 && direction=='right'){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(this.index == this.slideNodeList.length-1){\n\t\t\t\t\tif(handleTranslateVal <= 0){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.setTranslate(this.getCircle(this.index-1), handleTranslateVal - this.slideWrapWidth, 0);\n\t\t\t\t}else if(this.index == 0){\n\t\t\t\t\tif(handleTranslateVal >= 0){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.setTranslate(this.getCircle(this.index+1), this.slideWrapWidth, 0);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setTranslate(this.getCircle(this.index-1), handleTranslateVal - this.slideWrapWidth, 0);\n\t\t\tthis.setTranslate(this.index, handleTranslateVal , 0);\n\t\t\tthis.setTranslate(this.getCircle(this.index+1), handleTranslateVal + this.slideWrapWidth, 0);\n\n\t\t}\n\t};\n\tauiSlide.prototype.touchEnd = function(event) {\n\t\tvar touchEndObj = event.changedTouches[0];\n\t\tvar touchEndX = parseInt(touchEndObj.pageX) - firstTouchX;\n        var touchEndY = parseInt(touchEndObj.pageY) - firstTouchY;\n\t\tvar touchEndxy = {\n\t\t\t\tx: touchEndObj.pageX || 0,\n\t\t\t\ty: touchEndObj.pageY || 0\n\t\t\t};\n\t\tvar moveDirection = this.getDirection(touchEndX,touchEndY); //滑动方向\n\t\tvar boundary = this.slideWrapWidth/4;\n\t\tvar duration = (new Date() * 1) - touchStartTime;\n\t\tvar isValid = Number(duration) < 250 && Math.abs(offsetX) > 20 || Math.abs(offsetX) > boundary;\n\t\tif (isScrolling) {\n\t\t\treturn;\n\t\t}\n        if(isValid){\n\t\t\tif(offsetX < 0){\n\t\t\t\tif(!this.loop && this.index == this.slideNodeList.length-1){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif(!this.loop && !this.continuous && this.index==1){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t        \tif(offsetX < -boundary && moveDirection == 'left'){\n\t        \t\t// left\n\t\t\t\t\tthis.slideTo(this.getCircle(this.index-1), -this.slideWrapWidth, 0);\n\t\t            this.slideTo(this.getCircle(this.index+2), this.slideWrapWidth, 0);\n\t\t            this.slideTo(this.index, -this.slideWrapWidth, this.speed);\n\t\t            this.slideTo(this.getCircle(this.index+1), 0, this.speed);\n\t\t            this.index = this.getCircle(this.index+1);\n\t\t\t\t}else{\n\t\t\t\t\t// this.slideTo(this.getCircle(this.index-1), -this.slideWrapWidth, this.speed);\n\t\t            this.slideTo(this.index, 0, this.speed);\n\t\t            this.slideTo(this.getCircle(this.index+1), this.slideWrapWidth, this.speed);\n\t\t\t\t}\n\t        }else if(offsetX > 0){\n\t        \tif(!this.loop && this.index == 0){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(!this.loop && !this.continuous && this.index==0){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t        \tif(offsetX > boundary && moveDirection == 'right'){\n\t        \t\t// right\n\t\t        \tthis.slideTo(this.getCircle(this.index+1), this.slideWrapWidth, 0);\n\t\t            this.slideTo(this.getCircle(this.index-2), -this.slideWrapWidth, 0);\n\t\t            this.slideTo(this.index, this.slideWrapWidth, this.speed);\n\t\t            this.slideTo(this.getCircle(this.index-1), 0, this.speed);\n\t\t            this.index = this.getCircle(this.index-1);\n\t        \t}else{\n\t        \t\t// this.slideTo(this.getCircle(this.index-1), -this.slideWrapWidth, this.speed);\n\t\t            this.slideTo(this.index, 0, this.speed);\n\t\t            this.slideTo(this.getCircle(this.index+1), this.slideWrapWidth, this.speed);\n\t        \t}\n\t        }\n        }else{\n        \tif(offsetX){\n        \t\tthis.slideTo(this.getCircle(this.index-1), -this.slideWrapWidth, this.speed);\n\t            this.slideTo(this.index, 0, this.speed);\n\t            this.slideTo(this.getCircle(this.index+1), this.slideWrapWidth, this.speed);\n        \t}\n\n        }\n        this.setPaginationActive(this.index);\n\t};\n\tauiSlide.prototype.setTranslate = function (index,dist,speed){\n\t\tif(this.slideNodeList[index]){\n\t\t\tthis.slideNodeList[index].style.webkitTransitionDuration =\n\t    \tthis.slideNodeList[index].style.transitionDuration = speed + 'ms';\n\t    \tthis.slideNodeList[index].style.webkitTransform =\n\t    \tthis.slideNodeList[index].style.transform = \"translate3d(\"+dist+\"px,0,0)\";\n\t\t}\n\t};\n\tauiSlide.prototype.slideTo = function (index, dist, speed) {\n\t\tthis.setTranslate(index, dist, speed);\n\t\t// index = dist;\n\t};\n\tauiSlide.prototype.getCircle = function (index) {\n\t    return (this.slideNodeListLength + (index % this.slideNodeListLength)) % this.slideNodeListLength;\n\t};\n\tauiSlide.prototype.getDirection = function(x, y) {\n\t\tif (x === y) { return '';}\n\t\tif (Math.abs(x) >= Math.abs(y)) {\n            return x > 0 ? 'right' : 'left';\n        } else {\n           \treturn y > 0 ? 'down' : 'up';\n        }\n\t}\n\tfunction extend (a, b) {\n\t\tfor (var key in b) {\n\t\t  \tif (b.hasOwnProperty(key)) {\n\t\t  \t\ta[key] = b[key];\n\t\t  \t}\n\t  \t}\n\t  \treturn a;\n\t}\n\tfunction auiSlide (options) {\n\t\tthis._init(options);\n\t}\n\twindow.auiSlide = auiSlide;\n})(window);"]}
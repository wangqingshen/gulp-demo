{"version":3,"sources":["aui/aui-toast.js"],"names":["window","undefined","auiToast","prototype","create","params","callback","self","this","toastHtml","type","iconHtml","html","titleHtml","title","document","querySelector","body","insertAdjacentHTML","duration","show","status","setTimeout","hide","style","display","marginTop","Math","round","offsetHeight","parentNode","removeChild","remove","classList","success","fail","custom","loading"],"mappings":"CAOA,SAAWA,EAAQC,GACf,YACA,IAAIC,GAAW,YAIfA,GAASC,WACLC,OAAQ,SAASC,EAAOC,GACpB,GAAIC,GAAOC,KACPC,EAAY,EAChB,QAAQJ,EAAOK,MACX,IAAK,UACD,GAAIC,GAAW,+CACf,MACJ,KAAK,OACD,GAAIA,GAAW,6CACf,MACJ,KAAK,SACD,GAAIA,GAAWN,EAAOO,IACtB,MACJ,KAAK,UACD,GAAID,GAAW,wCAIvB,GAAIE,GAAYR,EAAOS,MAAQ,kCAAkCT,EAAOS,MAAM,SAAW,EAEzF,IADAL,EAAY,0BAA0BE,EAASE,EAAU,UACtDE,SAASC,cAAc,cAA1B,CACAD,SAASE,KAAKC,mBAAmB,YAAaT,EAC9C,IAAIU,GAAWd,EAAOc,SAAWd,EAAOc,SAAW,MACnDZ,GAAKa,OACa,WAAff,EAAOK,KACHJ,GACCA,GACIe,OAAQ,YAIhBC,WAAW,WACPf,EAAKgB,QACNJ,KAGXC,KAAM,WAEFL,SAASC,cAAc,cAAcQ,MAAMC,QAAU,QACrDV,SAASC,cAAc,cAAcQ,MAAME,UAAa,IAAIC,KAAKC,MAAMb,SAASC,cAAc,cAAca,aAAa,GAAG,KACzHd,SAASC,cAAc,eAE9BO,KAAM,WAECR,SAASC,cAAc,eACtBD,SAASC,cAAc,cAAcc,WAAWC,YAAYhB,SAASC,cAAc,gBAG3FgB,OAAQ,WAKJ,MAJGjB,UAASC,cAAc,gBAAeD,SAASC,cAAc,eAAec,WAAWC,YAAYhB,SAASC,cAAc,gBAC1HD,SAASC,cAAc,cACtBD,SAASC,cAAc,aAAaiB,UAAUD,OAAO,iBAElD,GAEXE,QAAS,SAAS7B,EAAOC,GACrB,GAAIC,GAAOC,IAEX,OADAH,GAAOK,KAAO,UACPH,EAAKH,OAAOC,EAAOC,IAE9B6B,KAAM,SAAS9B,EAAOC,GAClB,GAAIC,GAAOC,IAEX,OADAH,GAAOK,KAAO,OACPH,EAAKH,OAAOC,EAAOC,IAE9B8B,OAAO,SAAS/B,EAAOC,GACnB,GAAIC,GAAOC,IAEX,OADAH,GAAOK,KAAO,SACPH,EAAKH,OAAOC,EAAOC,IAE9B+B,QAAQ,SAAShC,EAAOC,GACpB,GAAIC,GAAOC,IAEX,OADAH,GAAOK,KAAO,UACPH,EAAKH,OAAOC,EAAOC,KAGlCN,EAAOE,SAAWA,GACnBF","file":"aui-toast.js","sourcesContent":["/**\n * aui-popup.js\n * @author 流浪男\n * @todo more things to abstract, e.g. Loading css etc.\n * Licensed under the MIT license.\n * http://www.opensource.org/licenses/mit-license.php\n */\n(function( window, undefined ) {\n    \"use strict\";\n    var auiToast = function() {\n        // this.create();\n    };\n    var isShow = false;\n    auiToast.prototype = {\n        create: function(params,callback) {\n            var self = this;\n            var toastHtml = '';\n            switch (params.type) {\n                case \"success\":\n                    var iconHtml = '<i class=\"aui-iconfont aui-icon-correct\"></i>';\n                    break;\n                case \"fail\":\n                    var iconHtml = '<i class=\"aui-iconfont aui-icon-close\"></i>';\n                    break;\n                case \"custom\":\n                    var iconHtml = params.html;\n                    break;\n                case \"loading\":\n                    var iconHtml = '<div class=\"aui-toast-loading\"></div>';\n                    break;\n            }\n\n            var titleHtml = params.title ? '<div class=\"aui-toast-content\">'+params.title+'</div>' : '';\n            toastHtml = '<div class=\"aui-toast\">'+iconHtml+titleHtml+'</div>';\n            if(document.querySelector(\".aui-toast\"))return;\n            document.body.insertAdjacentHTML('beforeend', toastHtml);\n            var duration = params.duration ? params.duration : \"2000\";\n            self.show();\n            if(params.type == 'loading'){\n                if(callback){\n                    callback({\n                        status: \"success\"\n                    });\n                };\n            }else{\n                setTimeout(function(){\n                    self.hide();\n                }, duration)\n            }\n        },\n        show: function(){\n            var self = this;\n            document.querySelector(\".aui-toast\").style.display = \"block\";\n            document.querySelector(\".aui-toast\").style.marginTop =  \"-\"+Math.round(document.querySelector(\".aui-toast\").offsetHeight/2)+\"px\";\n            if(document.querySelector(\".aui-toast\"))return;\n        },\n        hide: function(){\n            var self = this;\n            if(document.querySelector(\".aui-toast\")){\n                document.querySelector(\".aui-toast\").parentNode.removeChild(document.querySelector(\".aui-toast\"));\n            }\n        },\n        remove: function(){\n            if(document.querySelector(\".aui-dialog\"))document.querySelector(\".aui-dialog\").parentNode.removeChild(document.querySelector(\".aui-dialog\"));\n            if(document.querySelector(\".aui-mask\")){\n                document.querySelector(\".aui-mask\").classList.remove(\"aui-mask-out\");\n            }\n            return true;\n        },\n        success: function(params,callback){\n            var self = this;\n            params.type = \"success\";\n            return self.create(params,callback);\n        },\n        fail: function(params,callback){\n            var self = this;\n            params.type = \"fail\";\n            return self.create(params,callback);\n        },\n        custom:function(params,callback){\n            var self = this;\n            params.type = \"custom\";\n            return self.create(params,callback);\n        },\n        loading:function(params,callback){\n            var self = this;\n            params.type = \"loading\";\n            return self.create(params,callback);\n        }\n    };\n    window.auiToast = auiToast;\n})(window);"]}
{"version":3,"sources":["aui/aui-skin.js"],"names":["window","undefined","fileRef","auiSkin","params","this","extend","_init","prototype","name","skinPath","default","beginTime","endTime","self","document","createElement","setAttribute","getElementsByTagName","appendChild","check","_date","Date","getMinutes","nowM","nowTime","getHours","b","parseInt","replace","e","n","setSkin","removeSkin","querySelector","parentNode","removeChild","strb","split","length","stre","setHours","setMinutes","a","key","hasOwnProperty"],"mappings":"CAOA,SAAWA,EAAQC,GACf,YACA,IAIIC,GAJAC,EAAU,SAASC,GACtBC,KAAKC,OAAOD,KAAKD,OAAQA,GACtBC,KAAKE,QAGTJ,GAAQK,WACJJ,QACIK,KAAM,GACNC,SAAW,GACXC,WAAW,EACXC,UAAW,GACXC,QAAW,IAEfN,MAAO,WACN,GAAIO,GAAOT,IACR,IAAIS,EAAKV,OAAOK,MACfK,EAAKV,OAAOM,SAMb,GALAR,EAAUa,SAASC,cAAc,QACjCd,EAAQe,aAAa,MAAM,cAC3Bf,EAAQe,aAAa,OAAO,YAC5Bf,EAAQe,aAAa,gBAAgBH,EAAKV,OAAOK,MACjDP,EAAQe,aAAa,OAAOH,EAAKV,OAAOM,UACrCI,EAAKV,OAALU,WACCC,SAASG,qBAAqB,QAAQ,GAAGC,YAAYjB,OACpD,CACD,IAAIY,EAAKV,OAAOQ,YAAcE,EAAKV,OAAOS,QAAQ,MAClD,KAAIC,EAAKM,MAAMN,EAAKV,OAAOQ,UAAUE,EAAKV,OAAOS,SAAS,MAC1D,IAAIQ,GAAQ,GAAIC,KAChB,IAAGD,EAAME,aAAe,GACpB,GAAIC,GAAO,IAAIH,EAAME,iBAErB,IAAIC,GAAOH,EAAME,YAErB,IAAIE,GAAUJ,EAAMK,WAAW,IAAIF,EAC/BG,EAAIC,SAASd,EAAKV,OAAOQ,UAAUiB,QAAQ,IAAK,KAChDC,EAAIF,SAASd,EAAKV,OAAOS,QAAQgB,QAAQ,IAAK,KAC9CE,EAAIH,SAASH,EAAQI,QAAQ,IAAK,IACnCF,GAAIG,GACAC,GAAKJ,GAAKI,GAAKD,IAAEhB,EAAKkB,UACpBL,EAAIG,EACNC,GAAKJ,GAAKI,GAAKD,GAAEhB,EAAKkB,UAEzBlB,EAAKmB,eAIjBD,QAAQ,WACJjB,SAASG,qBAAqB,QAAQ,GAAGC,YAAYjB,IAEzD+B,WAAW,WACP,GAAInB,GAAOT,IACRU,UAASmB,cAAc,uBAAuBpB,EAAKV,OAAOK,KAAK,OAClEM,SAASmB,cAAc,uBAAuBpB,EAAKV,OAAOK,KAAK,MAAM0B,WAAWC,YAAYrB,SAASmB,cAAc,uBAAuBpB,EAAKV,OAAOK,KAAK,QAE/JW,MAAM,SAASR,EAAUC,GACrB,GAAIwB,GAAOzB,EAAU0B,MAAO,IAC5B,IAAmB,GAAfD,EAAKE,OAAY,OAAO,CAC5B,IAAIC,GAAO3B,EAAQyB,MAAO,IAC1B,IAAmB,GAAfE,EAAKD,OAAY,OAAO,CAC5B,IAAIZ,GAAI,GAAIL,MACRQ,EAAI,GAAIR,KAKZ,OAJAK,GAAEc,SAAUJ,EAAK,IACjBV,EAAEe,WAAYL,EAAK,IACnBP,EAAEW,SAAUD,EAAK,IACjBV,EAAEY,WAAYF,EAAK,MAChBH,EAAK,GAAK,IAAMA,EAAK,GAAK,GAAKG,EAAK,GAAK,IAAMA,EAAK,GAAK,MACzDH,EAAK,GAAK,IAAMA,EAAK,GAAK,GAAKG,EAAK,GAAK,IAAMA,EAAK,GAAK,IAGhElC,OAAQ,SAASqC,EAAGhB,GACzB,IAAK,GAAIiB,KAAOjB,GACTA,EAAEkB,eAAeD,KACpBD,EAAEC,GAAOjB,EAAEiB,GAGb,OAAOD,KAGX3C,EAAOG,QAAUA,GACfH","file":"aui-skin.js","sourcesContent":["/**\n * aui-skin.js\n * @author 流浪男\n * @todo more things to abstract, e.g. Loading css etc.\n * Licensed under the MIT license.\n * http://www.opensource.org/licenses/mit-license.php\n */\n(function( window, undefined ) {\n    \"use strict\";\n    var auiSkin = function(params) {\n    \tthis.extend(this.params, params);\n        this._init();\n    };\n    var fileRef;\n    auiSkin.prototype = {\n        params: {\n            name: \"\", //主题名字\n            skinPath:  \"\",//主题路径\n            default:   false, //默认是否立即使用\n            beginTime: \"\",//开始时间\n            endTime:   \"\"//结束时间\n        },\n        _init: function() {\n        \tvar self = this;\n            if(!self.params.name)return;\n        \tif(!self.params.skinPath)return;\n            fileRef = document.createElement('link');\n            fileRef.setAttribute(\"rel\",\"stylesheet\");\n            fileRef.setAttribute(\"type\",\"text/css\");\n            fileRef.setAttribute(\"aui-skin-name\",self.params.name);\n            fileRef.setAttribute(\"href\",self.params.skinPath);\n            if(self.params.default){\n                document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\n            }else{\n                if(!self.params.beginTime || !self.params.endTime)return;\n                if(!self.check(self.params.beginTime,self.params.endTime))return;\n                var _date = new Date();\n                if(_date.getMinutes() < 10){\n                    var nowM = \"0\"+_date.getMinutes();\n                }else{\n                    var nowM = _date.getMinutes();\n                }\n                var nowTime = _date.getHours()+\":\"+nowM;\n                var b = parseInt(self.params.beginTime.replace(\":\", ''));\n                var e = parseInt(self.params.endTime.replace(\":\", ''));\n                var n = parseInt(nowTime.replace(\":\", ''));\n                if(b > e){\n                    if(n >= b || n <= e)self.setSkin();\n                }else if(b < e){\n                    if(n >= b && n <= e)self.setSkin();\n                }else{\n                    self.removeSkin();\n                }\n            }\n        },\n        setSkin:function(){\n            document.getElementsByTagName(\"head\")[0].appendChild(fileRef);\n        },\n        removeSkin:function(){\n            var self = this;\n            if(document.querySelector(\"link[aui-skin-name='\"+self.params.name+\"']\"))\n            document.querySelector(\"link[aui-skin-name='\"+self.params.name+\"']\").parentNode.removeChild(document.querySelector(\"link[aui-skin-name='\"+self.params.name+\"']\"));\n        },\n        check:function(beginTime,endTime){\n            var strb = beginTime.split (\":\");\n            if (strb.length != 2)return false;\n            var stre = endTime.split (\":\");\n            if (stre.length != 2)return false;\n            var b = new Date ();\n            var e = new Date ();\n            b.setHours (strb[0]);\n            b.setMinutes (strb[1]);\n            e.setHours (stre[0]);\n            e.setMinutes (stre[1]);\n            if(strb[0] > 24 || strb[0] < 0 || stre[0] > 24 || stre[0] < 0)return false;\n            if(strb[1] > 59 || strb[1] < 0 || stre[1] > 59 || stre[1] < 0)return false;\n            return true;\n        },\n        extend: function(a, b) {\n\t\t\tfor (var key in b) {\n\t\t\t  \tif (b.hasOwnProperty(key)) {\n\t\t\t  \t\ta[key] = b[key];\n\t\t\t  \t}\n\t\t  \t}\n\t\t  \treturn a;\n\t\t}\n    };\n\twindow.auiSkin = auiSkin;\n})(window);"]}